{"ast":null,"code":"import _objectSpread from\"/Users/user/tenzies_game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/user/tenzies_game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Confetti from\"react-confetti\";import Die from\"./components/Die\";import{nanoid}from\"nanoid\";import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(allNewDice()),_useState2=_slicedToArray(_useState,2),dice=_useState2[0],setDice=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),tenzies=_useState4[0],setTenzies=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),rolls=_useState6[0],setRolls=_useState6[1];var _useState7=useState(Number(localStorage.getItem('bestRolls'))||Infinity),_useState8=_slicedToArray(_useState7,2),bestRolls=_useState8[0],setBestRolls=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),timer=_useState10[0],setTimer=_useState10[1];var _useState11=useState(Number(localStorage.getItem('bestTime'))||Infinity),_useState12=_slicedToArray(_useState11,2),bestTime=_useState12[0],setBestTime=_useState12[1];useEffect(function(){var allHeld=dice.every(function(die){return die.isHeld;});// Check if all dice are held\nvar allEqual=dice.every(function(die){return die.value===dice[0].value;});// Check if all dice have the same value\nif(allHeld&&allEqual){setTenzies(true);console.log(\"You win!\");// Do something to handle the win condition \n// (e.g. display a message or trigger an animation)\n}},[dice]);// timer to count time elapsed to play game every second\nuseEffect(function(){var intervalId=setInterval(function(){setTimer(function(prevTimer){return prevTimer+1;});},1000);return function(){return clearInterval(intervalId);};},[]);/* The useEffect hook is used to update the bestTime state variable and \n  store the new best time in local storage whenever the game is won and \n  the timer value is less than the current best time. The Tenzies and timer \n  values are added as dependencies to this hook to ensure that it only runs when \n  the game is won and the timer value changes. */useEffect(function(){if(tenzies&&timer<bestTime){localStorage.setItem('bestTime',timer);setBestTime(timer);}},[tenzies,timer]);// this use effect tracks rolls and upodate localStorage same as our timer useEffect\nuseEffect(function(){if(tenzies&&rolls<bestRolls){localStorage.setItem('bestRolls',rolls);setBestRolls(rolls);}},[tenzies,rolls]);// useEffect\n// helper function to avoid code repetiton\nfunction generateNewDie(){return{value:Math.ceil(Math.random()*6),isHeld:false,id:nanoid()};}function allNewDice(){var newDice=[];for(var i=0;i<10;i++){newDice.push(generateNewDie());}return newDice;}// click button to start a new game when die is held create new die. \n// also setTenzies to false\n// function newGame() {\n//   setDice(prevDice => prevDice.map(die => {\n//     return die.isHeld && generateNewDie()\n//   }))\n//   setTenzies(false)\n// }\n// Clicking the button should generate a new array of numbers\n// and set the `dice` state to that new array (thus re-rendering\n// the array to the page)\n// Increase rolls counter updating previous state\nfunction updateRollCounter(){return setRolls(function(prevRolls){return prevRolls+1;});}function rollDice(){if(!tenzies){setDice(function(prevDice){return prevDice.map(function(die){return die.isHeld?die:generateNewDie();});});// update roll counter when we roll dice\nupdateRollCounter();}else{setTenzies(false);setDice(allNewDice());setTimer(0);setRolls(0);}}// Flip the `isHeld` property on the object in the array\n// that was clicked, based on the `id` prop passed into the function\nfunction _holdDice(id){setDice(function(prevDice){return prevDice.map(function(die){if(die.id===id){return _objectSpread(_objectSpread({},die),{},{isHeld:!die.isHeld//flip the propert\n});}else{return die;}});});}// Map over the state numbers array to generate the array\n// of Die elements and render those in the App component\nvar diceElements=dice.map(function(die){return/*#__PURE__*/_jsx(Die,{value:die.value,isHeld:die.isHeld,holdDice:function holdDice(){return _holdDice(die.id);}},die.id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"border\",children:[/*#__PURE__*/_jsxs(\"main\",{children:[tenzies&&/*#__PURE__*/_jsx(Confetti,{width:\"450px\",height:\"450px\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"TENZIES\"}),/*#__PURE__*/_jsx(\"p\",{className:\"instructions\",children:\"Roll until all dice are the same. Click each die to freeze it at its current value between rolls.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"roll-count\",children:[\"Rolls:\",rolls]}),/*#__PURE__*/_jsxs(\"p\",{className:\"timer\",children:[\"Timer:\",timer,\"s\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dice-container\",children:diceElements}),/*#__PURE__*/_jsx(\"div\",{className:\"btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button-86\",onClick:rollDice,children:tenzies?\"New Game\":\"Roll\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"best-stats-container\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"best\",children:[\"Best Time: \",bestTime===Infinity?'N/A':\"\".concat(bestTime,\"s\")]}),/*#__PURE__*/_jsxs(\"p\",{className:\"best\",children:[\"Best Roll: \",bestRolls===Infinity?'N/A':\"\".concat(bestRolls),\" \"]})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Confetti","Die","nanoid","jsx","_jsx","jsxs","_jsxs","App","_useState","allNewDice","_useState2","_slicedToArray","dice","setDice","_useState3","_useState4","tenzies","setTenzies","_useState5","_useState6","rolls","setRolls","_useState7","Number","localStorage","getItem","Infinity","_useState8","bestRolls","setBestRolls","_useState9","_useState10","timer","setTimer","_useState11","_useState12","bestTime","setBestTime","allHeld","every","die","isHeld","allEqual","value","console","log","intervalId","setInterval","prevTimer","clearInterval","setItem","generateNewDie","Math","ceil","random","id","newDice","i","push","updateRollCounter","prevRolls","rollDice","prevDice","map","holdDice","_objectSpread","diceElements","className","children","width","height","onClick","concat"],"sources":["/Users/user/tenzies_game/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport Confetti from \"react-confetti\"\nimport Die from \"./components/Die\"\nimport { nanoid } from \"nanoid\";\nimport './App.css';\n\nfunction App() {\n\n  const [dice, setDice] = useState(allNewDice());\n  const [tenzies, setTenzies] = useState(false)\n  const [rolls, setRolls] = useState(0)\n  const [bestRolls, setBestRolls] = useState(Number(localStorage.getItem('bestRolls')) || Infinity);\n  const [timer, setTimer] = useState(0);\n  const [bestTime, setBestTime] = useState(Number(localStorage.getItem('bestTime')) || Infinity);\n\n  useEffect(() => {\n    const allHeld = dice.every((die) => die.isHeld); // Check if all dice are held\n    const allEqual = dice.every((die) => die.value === dice[0].value); // Check if all dice have the same value\n    if (allHeld && allEqual) {\n      setTenzies(true)\n      console.log(\"You win!\");\n      // Do something to handle the win condition \n      // (e.g. display a message or trigger an animation)\n    }\n  }, [dice]);\n\n  // timer to count time elapsed to play game every second\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      setTimer((prevTimer) => prevTimer + 1);\n    }, 1000);\n    return () => clearInterval(intervalId);\n  }, []);\n\n  /* The useEffect hook is used to update the bestTime state variable and \n  store the new best time in local storage whenever the game is won and \n  the timer value is less than the current best time. The Tenzies and timer \n  values are added as dependencies to this hook to ensure that it only runs when \n  the game is won and the timer value changes. */\n  useEffect(() => {\n    if (tenzies && timer < bestTime) {\n      localStorage.setItem('bestTime', timer);\n      setBestTime(timer);\n    }\n  }, [tenzies, timer]);\n\n  // this use effect tracks rolls and upodate localStorage same as our timer useEffect\n  useEffect(() => {\n    if (tenzies && rolls < bestRolls) {\n      localStorage.setItem('bestRolls', rolls)\n      setBestRolls(rolls)\n    }\n  }, [tenzies, rolls])\n\n  // useEffect\n  // helper function to avoid code repetiton\n  function generateNewDie() {\n    return {\n      value: Math.ceil(Math.random() * 6),\n      isHeld: false,\n      id: nanoid()\n    }\n  }\n\n  function allNewDice() {\n    const newDice = []\n    for (let i = 0; i < 10; i++) {\n      newDice.push(generateNewDie())\n    }\n    return newDice\n  }\n\n  // click button to start a new game when die is held create new die. \n  // also setTenzies to false\n  // function newGame() {\n  //   setDice(prevDice => prevDice.map(die => {\n  //     return die.isHeld && generateNewDie()\n  //   }))\n  //   setTenzies(false)\n  // }\n\n  // Clicking the button should generate a new array of numbers\n  // and set the `dice` state to that new array (thus re-rendering\n  // the array to the page)\n\n\n  // Increase rolls counter updating previous state\n  function updateRollCounter() {\n    return setRolls((prevRolls) => prevRolls + 1);\n  }\n\n  function rollDice() {\n    if (!tenzies) {\n      setDice(prevDice => prevDice.map(die => {\n        return die.isHeld ?\n          die :\n          generateNewDie()\n      }));\n      // update roll counter when we roll dice\n      updateRollCounter();\n    } else {\n      setTenzies(false)\n      setDice(allNewDice())\n      setTimer(0)\n      setRolls(0)\n    }\n  }\n\n  // Flip the `isHeld` property on the object in the array\n  // that was clicked, based on the `id` prop passed into the function\n  function holdDice(id) {\n    setDice(prevDice => prevDice.map(die => {\n      if (die.id === id) {\n        return {\n          ...die, isHeld: !die.isHeld //flip the propert\n        };\n      } else {\n        return die;\n      }\n    }\n\n    ))\n  }\n  // Map over the state numbers array to generate the array\n  // of Die elements and render those in the App component\n  const diceElements = dice.map(die =>\n    <Die key={die.id} value={die.value} isHeld={die.isHeld} holdDice={() => holdDice(die.id)} />\n  )\n  return (\n    <div className=\"border\">\n      <main>\n        {tenzies && <Confetti width=\"450px\" height=\"450px\" />}\n        <h1 className=\"title\">TENZIES</h1>\n        <p className=\"instructions\">Roll until all dice are the same. Click each die to freeze it at its current value between rolls.</p>\n        <div className=\"stats-container\">\n          <p className=\"roll-count\">Rolls:{rolls}</p>\n          <p className=\"timer\">Timer:{timer}s</p>\n        </div>\n        <div className=\"dice-container\">\n          {diceElements}\n        </div>\n        <div className=\"btn\">\n          <button className=\"button-86\" onClick={rollDice}>\n            {tenzies ? \"New Game\" : \"Roll\"}\n          </button>\n\n        </div>\n\n      </main>\n      <div className=\"best-stats-container\">\n        {/* default our best time to N/A when we have nothing in local storage */}\n        <p className=\"best\">Best Time: {bestTime === Infinity ? 'N/A' : `${bestTime}s`}</p>\n        <p className=\"best\">Best Roll: {bestRolls === Infinity ? 'N/A' : `${bestRolls}`} </p>\n      </div>\n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}